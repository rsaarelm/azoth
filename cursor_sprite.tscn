[gd_scene load_steps=2 format=3 uid="uid://d1tgj56pwbuux"]

[sub_resource type="GDScript" id="GDScript_onbv7"]
script/source = "extends Node2D

func _process(delta: float) -> void:
	# Follow mouse position.
	# Must snap to integer vector here or floaty mouse values make the pointer polygon jiggle.
	position = Vector2i(get_viewport().get_mouse_position())

func set_icon(texture: Texture2D) -> void:
	var icon = %Icon
	icon.texture = texture
	# Align icon to bottom-left from hotspot.
	if texture:
		self.visible = true
		icon.position = texture.get_size() / 2
		Input.set_mouse_mode(Input.MOUSE_MODE_HIDDEN)
	else:
		self.visible = false
		Input.set_mouse_mode(Input.MOUSE_MODE_VISIBLE)
"

[node name="CursorSprite" type="Node2D"]
visible = false
script = SubResource("GDScript_onbv7")

[node name="Pointer" type="Polygon2D" parent="."]
polygon = PackedVector2Array(-1, -2, 6, 5, -1, 6)
metadata/_edit_group_ = true

[node name="Inner" type="Polygon2D" parent="Pointer"]
scale = Vector2(1, 0.2)
color = Color(0, 0, 0, 1)
polygon = PackedVector2Array(0, 0, 0, 25, 4, 20)

[node name="Icon" type="Sprite2D" parent="."]
unique_name_in_owner = true
